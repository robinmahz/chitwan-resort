import{r as d,j as u,R as J,c as F,F as Q,H as Y}from"./app-C_3QOrnk.js";import{I as M,a as O}from"./input-DiJmMZBR.js";import{T}from"./text-link-CZlOy13s.js";import{u as P,c as Z,q as ee,B as te,r as ne,A as re}from"./auth-layout-Dxg9om12.js";import{P as I,L as j}from"./label-D4QYMgGB.js";import{C as oe}from"./check-zcj0KQQJ.js";import{S as se}from"./spinner-WkbH0PUx.js";import{r as ie}from"./index-DvkDsHmz.js";import"./app-Cm7jbTES.js";import"./createLucideIcon-0nOc_CKx.js";import"./loader-circle-DbtLXn6K.js";import"./index-Cy5IqVYR.js";function ce(t,e=[]){let n=[];function s(r,c){const a=d.createContext(c),i=n.length;n=[...n,c];const l=f=>{const{scope:p,children:h,...x}=f,C=p?.[t]?.[i]||a,k=d.useMemo(()=>x,Object.values(x));return u.jsx(C.Provider,{value:k,children:h})};l.displayName=r+"Provider";function m(f,p){const h=p?.[t]?.[i]||a,x=d.useContext(h);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${f}\` must be used within \`${r}\``)}return[l,m]}const o=()=>{const r=n.map(c=>d.createContext(c));return function(a){const i=a?.[t]||r;return d.useMemo(()=>({[`__scope${t}`]:{...a,[t]:i}}),[a,i])}};return o.scopeName=t,[s,ae(o,...e)]}function ae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(r){const c=s.reduce((a,{useScope:i,scopeName:l})=>{const f=i(r)[`__scope${l}`];return{...a,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function L(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return e?.(o)}}var S=globalThis?.document?d.useLayoutEffect:()=>{},ue=J[" useInsertionEffect ".trim().toString()]||S;function de({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[o,r,c]=le({defaultProp:e,onChange:n}),a=t!==void 0,i=a?t:o;{const m=d.useRef(t!==void 0);d.useEffect(()=>{const f=m.current;f!==a&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=a},[a,s])}const l=d.useCallback(m=>{if(a){const f=fe(m)?m(t):m;f!==t&&c.current?.(f)}else r(m)},[a,t,r,c]);return[i,l]}function le({defaultProp:t,onChange:e}){const[n,s]=d.useState(t),o=d.useRef(n),r=d.useRef(e);return ue(()=>{r.current=e},[e]),d.useEffect(()=>{o.current!==n&&(r.current?.(n),o.current=n)},[n,o]),[n,s,r]}function fe(t){return typeof t=="function"}function me(t){const e=d.useRef({value:t,previous:t});return d.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function pe(t){const[e,n]=d.useState(void 0);return S(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const r=o[0];let c,a;if("borderBoxSize"in r){const i=r.borderBoxSize,l=Array.isArray(i)?i[0]:i;c=l.inlineSize,a=l.blockSize}else c=t.offsetWidth,a=t.offsetHeight;n({width:c,height:a})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}function he(t,e){return d.useReducer((n,s)=>e[n][s]??n,t)}var U=t=>{const{present:e,children:n}=t,s=xe(e),o=typeof n=="function"?n({present:s.isPresent}):d.Children.only(n),r=P(s.ref,be(o));return typeof n=="function"||s.isPresent?d.cloneElement(o,{ref:r}):null};U.displayName="Presence";function xe(t){const[e,n]=d.useState(),s=d.useRef(null),o=d.useRef(t),r=d.useRef("none"),c=t?"mounted":"unmounted",[a,i]=he(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const l=y(s.current);r.current=a==="mounted"?l:"none"},[a]),S(()=>{const l=s.current,m=o.current;if(m!==t){const p=r.current,h=y(l);t?i("MOUNT"):h==="none"||l?.display==="none"?i("UNMOUNT"):i(m&&p!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,i]),S(()=>{if(e){let l;const m=e.ownerDocument.defaultView??window,f=h=>{const C=y(s.current).includes(CSS.escape(h.animationName));if(h.target===e&&C&&(i("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",l=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},p=h=>{h.target===e&&(r.current=y(s.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{m.clearTimeout(l),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else i("ANIMATION_END")},[e,i]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:d.useCallback(l=>{s.current=l?getComputedStyle(l):null,n(l)},[])}}function y(t){return t?.animationName||"none"}function be(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var w="Checkbox",[ve,Te]=ce(w),[ge,_]=ve(w);function Ce(t){const{__scopeCheckbox:e,checked:n,children:s,defaultChecked:o,disabled:r,form:c,name:a,onCheckedChange:i,required:l,value:m="on",internal_do_not_use_render:f}=t,[p,h]=de({prop:n,defaultProp:o??!1,onChange:i,caller:w}),[x,C]=d.useState(null),[k,b]=d.useState(null),v=d.useRef(!1),E=x?!!c||!!x.closest("form"):!0,R={checked:p,disabled:r,setChecked:h,control:x,setControl:C,name:a,form:c,value:m,hasConsumerStoppedPropagationRef:v,required:l,defaultChecked:N(o)?!1:o,isFormControl:E,bubbleInput:k,setBubbleInput:b};return u.jsx(ge,{scope:e,...R,children:ke(f)?f(R):s})}var z="CheckboxTrigger",B=d.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...s},o)=>{const{control:r,value:c,disabled:a,checked:i,required:l,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:x}=_(z,t),C=P(o,m),k=d.useRef(i);return d.useEffect(()=>{const b=r?.form;if(b){const v=()=>f(k.current);return b.addEventListener("reset",v),()=>b.removeEventListener("reset",v)}},[r,f]),u.jsx(I.button,{type:"button",role:"checkbox","aria-checked":N(i)?"mixed":i,"aria-required":l,"data-state":G(i),"data-disabled":a?"":void 0,disabled:a,value:c,...s,ref:C,onKeyDown:L(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:L(n,b=>{f(v=>N(v)?!0:!v),x&&h&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});B.displayName=z;var D=d.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:o,defaultChecked:r,required:c,disabled:a,value:i,onCheckedChange:l,form:m,...f}=t;return u.jsx(Ce,{__scopeCheckbox:n,checked:o,defaultChecked:r,disabled:a,required:c,onCheckedChange:l,name:s,form:m,value:i,internal_do_not_use_render:({isFormControl:p})=>u.jsxs(u.Fragment,{children:[u.jsx(B,{...f,ref:e,__scopeCheckbox:n}),p&&u.jsx(W,{__scopeCheckbox:n})]})})});D.displayName=w;var $="CheckboxIndicator",q=d.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...o}=t,r=_($,n);return u.jsx(U,{present:s||N(r.checked)||r.checked===!0,children:u.jsx(I.span,{"data-state":G(r.checked),"data-disabled":r.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...t.style}})})});q.displayName=$;var H="CheckboxBubbleInput",W=d.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:s,hasConsumerStoppedPropagationRef:o,checked:r,defaultChecked:c,required:a,disabled:i,name:l,value:m,form:f,bubbleInput:p,setBubbleInput:h}=_(H,t),x=P(n,h),C=me(r),k=pe(s);d.useEffect(()=>{const v=p;if(!v)return;const E=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(E,"checked").set,X=!o.current;if(C!==r&&A){const V=new Event("click",{bubbles:X});v.indeterminate=N(r),A.call(v,N(r)?!1:r),v.dispatchEvent(V)}},[p,C,r,o]);const b=d.useRef(N(r)?!1:r);return u.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??b.current,required:a,disabled:i,name:l,value:m,form:f,...e,tabIndex:-1,ref:x,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});W.displayName=H;function ke(t){return typeof t=="function"}function N(t){return t==="indeterminate"}function G(t){return N(t)?"indeterminate":t?"checked":"unchecked"}function Ne(t){const e=F.c(9);let n,s;e[0]!==t?({className:n,...s}=t,e[0]=t,e[1]=n,e[2]=s):(n=e[1],s=e[2]);let o;e[3]!==n?(o=Z("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=o):o=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx(q,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:u.jsx(oe,{className:"size-3.5"})}),e[5]=r):r=e[5];let c;return e[6]!==s||e[7]!==o?(c=u.jsx(D,{"data-slot":"checkbox",className:o,...s,children:r}),e[6]=s,e[7]=o,e[8]=c):c=e[8],c}const g=t=>({url:g.url(t),method:"post"});g.definition={methods:["post"],url:"/login"};g.url=t=>g.definition.url+ee(t);g.post=t=>({url:g.url(t),method:"post"});const K=t=>({action:g.url(t),method:"post"});K.post=t=>({action:g.url(t),method:"post"});g.form=K;Object.assign(g,g);function Le(t){const e=F.c(11),{status:n,canResetPassword:s,canRegister:o}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx(Y,{title:"Log in"}),e[0]=r):r=e[0];let c,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=g.form(),a=["password"],e[1]=c,e[2]=a):(c=e[1],a=e[2]);let i;e[3]!==o||e[4]!==s?(i=u.jsx(Q,{...c,resetOnSuccess:a,className:"flex flex-col gap-6",children:f=>{const{processing:p,errors:h}=f;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid gap-6",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(j,{htmlFor:"email",children:"Email address"}),u.jsx(M,{id:"email",type:"email",name:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",placeholder:"email@example.com"}),u.jsx(O,{message:h.email})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(j,{htmlFor:"password",children:"Password"}),s&&u.jsx(T,{href:ie(),className:"ml-auto text-sm",tabIndex:5,children:"Forgot password?"})]}),u.jsx(M,{id:"password",type:"password",name:"password",required:!0,tabIndex:2,autoComplete:"current-password",placeholder:"Password"}),u.jsx(O,{message:h.password})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Ne,{id:"remember",name:"remember",tabIndex:3}),u.jsx(j,{htmlFor:"remember",children:"Remember me"})]}),u.jsxs(te,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:p,"data-test":"login-button",children:[p&&u.jsx(se,{}),"Log in"]})]}),o&&u.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",u.jsx(T,{href:ne(),tabIndex:5,children:"Sign up"})]})]})}}),e[3]=o,e[4]=s,e[5]=i):i=e[5];let l;e[6]!==n?(l=n&&u.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:n}),e[6]=n,e[7]=l):l=e[7];let m;return e[8]!==i||e[9]!==l?(m=u.jsxs(re,{title:"Log in to your account",description:"Enter your email and password below to log in",children:[r,i,l]}),e[8]=i,e[9]=l,e[10]=m):m=e[10],m}export{Le as default};
