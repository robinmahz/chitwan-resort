import{r as o,c as oe,j as d,F as et,H as tt}from"./app-C_3QOrnk.js";import{I as rt,a as Oe}from"./input-DiJmMZBR.js";import{c as ue,q as W,B as nt,A as ot}from"./auth-layout-Dxg9om12.js";import{c as lt}from"./createLucideIcon-0nOc_CKx.js";import"./app-Cm7jbTES.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M5 12h14",key:"1ays0h"}]],it=lt("Minus",at);var st=Object.defineProperty,ut=Object.defineProperties,ct=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,Re=(e,r,t)=>r in e?st(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,dt=(e,r)=>{for(var t in r||(r={}))ke.call(r,t)&&Re(e,t,r[t]);if(ce)for(var t of ce(r))Fe.call(r,t)&&Re(e,t,r[t]);return e},mt=(e,r)=>ut(e,ct(r)),pt=(e,r)=>{var t={};for(var n in e)ke.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&ce)for(var n of ce(e))r.indexOf(n)<0&&Fe.call(e,n)&&(t[n]=e[n]);return t};function ht(e){let r=setTimeout(e,0),t=setTimeout(e,10),n=setTimeout(e,50);return[r,t,n]}function ft(e){let r=o.useRef();return o.useEffect(()=>{r.current=e}),r.current}var gt=18,Ne=40,vt=`${Ne}px`,yt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function bt({containerRef:e,inputRef:r,pushPasswordManagerStrategy:t,isFocused:n}){let[s,l]=o.useState(!1),[c,p]=o.useState(!1),[f,H]=o.useState(!1),k=o.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&s&&c,[s,c,t]),y=o.useCallback(()=>{let m=e.current,x=r.current;if(!m||!x||f||t==="none")return;let b=m,w=b.getBoundingClientRect().left+b.offsetWidth,F=b.getBoundingClientRect().top+b.offsetHeight/2,u=w-gt,P=F;document.querySelectorAll(yt).length===0&&document.elementFromPoint(u,P)===m||(l(!0),H(!0))},[e,r,f,t]);return o.useEffect(()=>{let m=e.current;if(!m||t==="none")return;function x(){let w=window.innerWidth-m.getBoundingClientRect().right;p(w>=Ne)}x();let b=setInterval(x,1e3);return()=>{clearInterval(b)}},[e,t]),o.useEffect(()=>{let m=n||document.activeElement===r.current;if(t==="none"||!m)return;let x=setTimeout(y,0),b=setTimeout(y,2e3),w=setTimeout(y,5e3),F=setTimeout(()=>{H(!0)},6e3);return()=>{clearTimeout(x),clearTimeout(b),clearTimeout(w),clearTimeout(F)}},[r,n,t,y]),{hasPWMBadge:s,willPushPWMBadge:k,PWM_BADGE_SPACE_WIDTH:vt}}var Ae=o.createContext({}),Ie=o.forwardRef((e,r)=>{var t=e,{value:n,onChange:s,maxLength:l,textAlign:c="left",pattern:p,placeholder:f,inputMode:H="numeric",onComplete:k,pushPasswordManagerStrategy:y="increase-width",pasteTransformer:m,containerClassName:x,noScriptCSSFallback:b=xt,render:w,children:F}=t,u=pt(t,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),P,U,le,ae,xe;let[Ge,ze]=o.useState(typeof u.defaultValue=="string"?u.defaultValue:""),g=n??Ge,G=ft(g),Y=o.useCallback(a=>{s?.(a),ze(a)},[s]),B=o.useMemo(()=>p?typeof p=="string"?new RegExp(p):p:null,[p]),v=o.useRef(null),de=o.useRef(null),me=o.useRef({value:g,onChange:Y,isIOS:typeof window<"u"&&((U=(P=window?.CSS)==null?void 0:P.supports)==null?void 0:U.call(P,"-webkit-touch-callout","none"))}),ie=o.useRef({prev:[(le=v.current)==null?void 0:le.selectionStart,(ae=v.current)==null?void 0:ae.selectionEnd,(xe=v.current)==null?void 0:xe.selectionDirection]});o.useImperativeHandle(r,()=>v.current,[]),o.useEffect(()=>{let a=v.current,i=de.current;if(!a||!i)return;me.current.value!==a.value&&me.current.onChange(a.value),ie.current.prev=[a.selectionStart,a.selectionEnd,a.selectionDirection];function E(){if(document.activeElement!==a){te(null),re(null);return}let h=a.selectionStart,_=a.selectionEnd,se=a.selectionDirection,N=a.maxLength,K=a.value,Q=ie.current.prev,L=-1,$=-1,V;if(K.length!==0&&h!==null&&_!==null){let Je=h===_,Ue=h===K.length&&K.length<N;if(Je&&!Ue){let X=h;if(X===0)L=0,$=1,V="forward";else if(X===N)L=X-1,$=X,V="backward";else if(N>1&&K.length>1){let fe=0;if(Q[0]!==null&&Q[1]!==null){V=X<Q[1]?"backward":"forward";let Ye=Q[0]===Q[1]&&Q[0]<N;V==="backward"&&!Ye&&(fe=-1)}L=fe+X,$=fe+X+1}}L!==-1&&$!==-1&&L!==$&&v.current.setSelectionRange(L,$,V)}let _e=L!==-1?L:h,Te=$!==-1?$:_,Ze=V??se;te(_e),re(Te),ie.current.prev=[_e,Te,Ze]}if(document.addEventListener("selectionchange",E,{capture:!0}),E(),document.activeElement===a&&pe(!0),!document.getElementById("input-otp-style")){let h=document.createElement("style");if(h.id="input-otp-style",document.head.appendChild(h),h.sheet){let _="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";ne(h.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),ne(h.sheet,`[data-input-otp]:autofill { ${_} }`),ne(h.sheet,`[data-input-otp]:-webkit-autofill { ${_} }`),ne(h.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),ne(h.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let O=()=>{i&&i.style.setProperty("--root-height",`${a.clientHeight}px`)};O();let R=new ResizeObserver(O);return R.observe(a),()=>{document.removeEventListener("selectionchange",E,{capture:!0}),R.disconnect()}},[]);let[we,Ee]=o.useState(!1),[ee,pe]=o.useState(!1),[z,te]=o.useState(null),[Z,re]=o.useState(null);o.useEffect(()=>{ht(()=>{var a,i,E,O;(a=v.current)==null||a.dispatchEvent(new Event("input"));let R=(i=v.current)==null?void 0:i.selectionStart,h=(E=v.current)==null?void 0:E.selectionEnd,_=(O=v.current)==null?void 0:O.selectionDirection;R!==null&&h!==null&&(te(R),re(h),ie.current.prev=[R,h,_])})},[g,ee]),o.useEffect(()=>{G!==void 0&&g!==G&&G.length<l&&g.length===l&&k?.(g)},[l,k,G,g]);let J=bt({containerRef:de,inputRef:v,pushPasswordManagerStrategy:y,isFocused:ee}),Ce=o.useCallback(a=>{let i=a.currentTarget.value.slice(0,l);if(i.length>0&&B&&!B.test(i)){a.preventDefault();return}typeof G=="string"&&i.length<G.length&&document.dispatchEvent(new Event("selectionchange")),Y(i)},[l,Y,G,B]),je=o.useCallback(()=>{var a;if(v.current){let i=Math.min(v.current.value.length,l-1),E=v.current.value.length;(a=v.current)==null||a.setSelectionRange(i,E),te(i),re(E)}pe(!0)},[l]),Se=o.useCallback(a=>{var i,E;let O=v.current;if(!m&&(!me.current.isIOS||!a.clipboardData||!O))return;let R=a.clipboardData.getData("text/plain"),h=m?m(R):R;a.preventDefault();let _=(i=v.current)==null?void 0:i.selectionStart,se=(E=v.current)==null?void 0:E.selectionEnd,N=(_!==se?g.slice(0,_)+h+g.slice(se):g.slice(0,_)+h+g.slice(_)).slice(0,l);if(N.length>0&&B&&!B.test(N))return;O.value=N,Y(N);let K=Math.min(N.length,l-1),Q=N.length;O.setSelectionRange(K,Q),te(K),re(Q)},[l,Y,B,g]),Ke=o.useMemo(()=>({position:"relative",cursor:u.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[u.disabled]),Pe=o.useMemo(()=>({position:"absolute",inset:0,width:J.willPushPWMBadge?`calc(100% + ${J.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:J.willPushPWMBadge?`inset(0 ${J.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:c,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[J.PWM_BADGE_SPACE_WIDTH,J.willPushPWMBadge,c]),Ve=o.useMemo(()=>o.createElement("input",mt(dt({autoComplete:u.autoComplete||"one-time-code"},u),{"data-input-otp":!0,"data-input-otp-placeholder-shown":g.length===0||void 0,"data-input-otp-mss":z,"data-input-otp-mse":Z,inputMode:H,pattern:B?.source,"aria-placeholder":f,style:Pe,maxLength:l,value:g,ref:v,onPaste:a=>{var i;Se(a),(i=u.onPaste)==null||i.call(u,a)},onChange:Ce,onMouseOver:a=>{var i;Ee(!0),(i=u.onMouseOver)==null||i.call(u,a)},onMouseLeave:a=>{var i;Ee(!1),(i=u.onMouseLeave)==null||i.call(u,a)},onFocus:a=>{var i;je(),(i=u.onFocus)==null||i.call(u,a)},onBlur:a=>{var i;pe(!1),(i=u.onBlur)==null||i.call(u,a)}})),[Ce,je,Se,H,Pe,l,Z,z,u,B?.source,g]),he=o.useMemo(()=>({slots:Array.from({length:l}).map((a,i)=>{var E;let O=ee&&z!==null&&Z!==null&&(z===Z&&i===z||i>=z&&i<Z),R=g[i]!==void 0?g[i]:null,h=g[0]!==void 0?null:(E=f?.[i])!=null?E:null;return{char:R,placeholderChar:h,isActive:O,hasFakeCaret:O&&R===null}}),isFocused:ee,isHovering:!u.disabled&&we}),[ee,we,l,Z,z,u.disabled,g]),Xe=o.useMemo(()=>w?w(he):o.createElement(Ae.Provider,{value:he},F),[F,he,w]);return o.createElement(o.Fragment,null,b!==null&&o.createElement("noscript",null,o.createElement("style",null,b)),o.createElement("div",{ref:de,"data-input-otp-container":!0,style:Ke,className:x},Xe,o.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ve)))});Ie.displayName="Input";function ne(e,r){try{e.insertRule(r)}catch{console.error("input-otp could not insert CSS rule:",r)}}var xt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,wt="^\\d+$";const De=o.forwardRef((e,r)=>{const t=oe.c(13);let n,s,l;t[0]!==e?({className:n,containerClassName:s,...l}=e,t[0]=e,t[1]=n,t[2]=s,t[3]=l):(n=t[1],s=t[2],l=t[3]);let c;t[4]!==s?(c=ue("flex items-center gap-2 has-[:disabled]:opacity-50",s),t[4]=s,t[5]=c):c=t[5];let p;t[6]!==n?(p=ue("disabled:cursor-not-allowed",n),t[6]=n,t[7]=p):p=t[7];let f;return t[8]!==l||t[9]!==r||t[10]!==c||t[11]!==p?(f=d.jsx(Ie,{ref:r,containerClassName:c,className:p,...l}),t[8]=l,t[9]=r,t[10]=c,t[11]=p,t[12]=f):f=t[12],f});De.displayName="InputOTP";const qe=o.forwardRef((e,r)=>{const t=oe.c(9);let n,s;t[0]!==e?({className:n,...s}=e,t[0]=e,t[1]=n,t[2]=s):(n=t[1],s=t[2]);let l;t[3]!==n?(l=ue("flex items-center",n),t[3]=n,t[4]=l):l=t[4];let c;return t[5]!==s||t[6]!==r||t[7]!==l?(c=d.jsx("div",{ref:r,className:l,...s}),t[5]=s,t[6]=r,t[7]=l,t[8]=c):c=t[8],c});qe.displayName="InputOTPGroup";const Be=o.forwardRef((e,r)=>{const t=oe.c(15);let n,s,l;t[0]!==e?({index:s,className:n,...l}=e,t[0]=e,t[1]=n,t[2]=s,t[3]=l):(n=t[1],s=t[2],l=t[3]);const c=o.useContext(Ae),{char:p,hasFakeCaret:f,isActive:H}=c.slots[s],k=H&&"z-10 ring-1 ring-ring";let y;t[4]!==n||t[5]!==k?(y=ue("relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",k,n),t[4]=n,t[5]=k,t[6]=y):y=t[6];let m;t[7]!==f?(m=f&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})}),t[7]=f,t[8]=m):m=t[8];let x;return t[9]!==p||t[10]!==l||t[11]!==r||t[12]!==y||t[13]!==m?(x=d.jsxs("div",{ref:r,className:y,...l,children:[p,m]}),t[9]=p,t[10]=l,t[11]=r,t[12]=y,t[13]=m,t[14]=x):x=t[14],x});Be.displayName="InputOTPSlot";const Et=o.forwardRef((e,r)=>{const t=oe.c(6);let n;t[0]!==e?({...n}=e,t[0]=e,t[1]=n):n=t[1];let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=d.jsx(it,{}),t[2]=s):s=t[2];let l;return t[3]!==n||t[4]!==r?(l=d.jsx("div",{ref:r,role:"separator",...n,children:s}),t[3]=n,t[4]=r,t[5]=l):l=t[5],l});Et.displayName="InputOTPSeparator";const M=e=>({url:M.url(e),method:"post"});M.definition={methods:["post"],url:"/two-factor-challenge"};M.url=e=>M.definition.url+W(e);M.post=e=>({url:M.url(e),method:"post"});const He=e=>({action:M.url(e),method:"post"});He.post=e=>({action:M.url(e),method:"post"});M.form=He;const Ct={store:Object.assign(M,M)},T=e=>({url:T.url(e),method:"get"});T.definition={methods:["get","head"],url:"/two-factor-challenge"};T.url=e=>T.definition.url+W(e);T.get=e=>({url:T.url(e),method:"get"});T.head=e=>({url:T.url(e),method:"head"});const ge=e=>({action:T.url(e),method:"get"});ge.get=e=>({action:T.url(e),method:"get"});ge.head=e=>({action:T.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});T.form=ge;const A=e=>({url:A.url(e),method:"post"});A.definition={methods:["post"],url:"/user/two-factor-authentication"};A.url=e=>A.definition.url+W(e);A.post=e=>({url:A.url(e),method:"post"});const Qe=e=>({action:A.url(e),method:"post"});Qe.post=e=>({action:A.url(e),method:"post"});A.form=Qe;const I=e=>({url:I.url(e),method:"post"});I.definition={methods:["post"],url:"/user/confirmed-two-factor-authentication"};I.url=e=>I.definition.url+W(e);I.post=e=>({url:I.url(e),method:"post"});const We=e=>({action:I.url(e),method:"post"});We.post=e=>({action:I.url(e),method:"post"});I.form=We;const D=e=>({url:D.url(e),method:"delete"});D.definition={methods:["delete"],url:"/user/two-factor-authentication"};D.url=e=>D.definition.url+W(e);D.delete=e=>({url:D.url(e),method:"delete"});const Le=e=>({action:D.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Le.delete=e=>({action:D.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});D.form=Le;const C=e=>({url:C.url(e),method:"get"});C.definition={methods:["get","head"],url:"/user/two-factor-qr-code"};C.url=e=>C.definition.url+W(e);C.get=e=>({url:C.url(e),method:"get"});C.head=e=>({url:C.url(e),method:"head"});const ve=e=>({action:C.url(e),method:"get"});ve.get=e=>({action:C.url(e),method:"get"});ve.head=e=>({action:C.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});C.form=ve;const j=e=>({url:j.url(e),method:"get"});j.definition={methods:["get","head"],url:"/user/two-factor-secret-key"};j.url=e=>j.definition.url+W(e);j.get=e=>({url:j.url(e),method:"get"});j.head=e=>({url:j.url(e),method:"head"});const ye=e=>({action:j.url(e),method:"get"});ye.get=e=>({action:j.url(e),method:"get"});ye.head=e=>({action:j.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});j.form=ye;const S=e=>({url:S.url(e),method:"get"});S.definition={methods:["get","head"],url:"/user/two-factor-recovery-codes"};S.url=e=>S.definition.url+W(e);S.get=e=>({url:S.url(e),method:"get"});S.head=e=>({url:S.url(e),method:"head"});const be=e=>({action:S.url(e),method:"get"});be.get=e=>({action:S.url(e),method:"get"});be.head=e=>({action:S.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});S.form=be;const q=e=>({url:q.url(e),method:"post"});q.definition={methods:["post"],url:"/user/two-factor-recovery-codes"};q.url=e=>q.definition.url+W(e);q.post=e=>({url:q.url(e),method:"post"});const $e=e=>({action:q.url(e),method:"post"});$e.post=e=>({action:q.url(e),method:"post"});q.form=$e;Object.assign(T,Ct),Object.assign(A,A),Object.assign(I,I),Object.assign(D,D),Object.assign(C,C),Object.assign(j,j),Object.assign(S,S),Object.assign(q,q);const Me=6;function Rt(){const e=oe.c(18),[r,t]=o.useState(!1),[n,s]=o.useState("");let l;e:{if(r){let P;e[0]===Symbol.for("react.memo_cache_sentinel")?(P={title:"Recovery Code",description:"Please confirm access to your account by entering one of your emergency recovery codes.",toggleText:"login using an authentication code"},e[0]=P):P=e[0],l=P;break e}let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u={title:"Authentication Code",description:"Enter the authentication code provided by your authenticator application.",toggleText:"login using a recovery code"},e[1]=u):u=e[1],l=u}const c=l;let p;e[2]!==r?(p=u=>{t(!r),u(),s("")},e[2]=r,e[3]=p):p=e[3];const f=p,H=c.title,k=c.description;let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=d.jsx(tt,{title:"Two-Factor Authentication"}),e[4]=y):y=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=M.form(),e[5]=m):m=e[5];const x=!r;let b;e[6]!==c.toggleText||e[7]!==n||e[8]!==r||e[9]!==f?(b=u=>{const{errors:P,processing:U,clearErrors:le}=u;return d.jsxs(d.Fragment,{children:[r?d.jsxs(d.Fragment,{children:[d.jsx(rt,{name:"recovery_code",type:"text",placeholder:"Enter recovery code",autoFocus:r,required:!0}),d.jsx(Oe,{message:P.recovery_code})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 text-center",children:[d.jsx("div",{className:"flex w-full items-center justify-center",children:d.jsx(De,{name:"code",maxLength:Me,value:n,onChange:ae=>s(ae),disabled:U,pattern:wt,children:d.jsx(qe,{children:Array.from({length:Me},jt)})})}),d.jsx(Oe,{message:P.code})]}),d.jsx(nt,{type:"submit",className:"w-full",disabled:U,children:"Continue"}),d.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[d.jsx("span",{children:"or you can "}),d.jsx("button",{type:"button",className:"cursor-pointer text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>f(le),children:c.toggleText})]})]})},e[6]=c.toggleText,e[7]=n,e[8]=r,e[9]=f,e[10]=b):b=e[10];let w;e[11]!==x||e[12]!==b?(w=d.jsx("div",{className:"space-y-6",children:d.jsx(et,{...m,className:"space-y-4",resetOnError:!0,resetOnSuccess:x,children:b})}),e[11]=x,e[12]=b,e[13]=w):w=e[13];let F;return e[14]!==c.description||e[15]!==c.title||e[16]!==w?(F=d.jsxs(ot,{title:H,description:k,children:[y,w]}),e[14]=c.description,e[15]=c.title,e[16]=w,e[17]=F):F=e[17],F}function jt(e,r){return d.jsx(Be,{index:r},r)}export{Rt as default};
